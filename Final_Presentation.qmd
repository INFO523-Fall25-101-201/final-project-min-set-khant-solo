---
title: "BMW Car Sales Analysis & Price Prediction"
subtitle: "Temporal Validation of Market Value"
author: "Min Set Khant (Solo)"
date: "2025-12-08"
format: 
  revealjs:
    theme: simple      
    css: bmw-style.css  
    slide-number: true
    transition: fade
    center: true
execute:
  echo: false
  freeze: auto
  python: true
---
## Introduction
### Project: BMW Car Sales — Data Analysis & Price Prediction

- **Goal:** Build a robust, temporally validated model to predict BMW car prices using multi-regional sales data.
- **Key Questions Addressed:**
    1. What are the key features influencing BMW car prices?
    2. Can a Machine Learning model accurately predict prices?
    3. How stable are these predictions over time (Temporal Validation)?

## Data Overview & Setup
### Dataset: BMW Worldwide Sales (2010–2024)

- **Source:** Kaggle (Multi-Regional Sales Data)
- **Status:** Data has been cleaned, imputed, and One-Hot Encoded.
- **Target Variable:** `Price_USD` (Log-transformed for modeling).

```{python}
#| label: load-pkgs
#| message: false
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
from pathlib import Path
import os

#| label: load-dataset
#| message: false
from pathlib import Path
import pandas as pd

# Your data path
data_path = os.path.join("data", "cleaned", "bmw_cleaned.csv")
df = pd.read_csv(data_path)
print("Rows:", df.shape[0], "| Columns:", df.shape[1])
df.head(5)
```
## EDA: Price Distribution
### Transformation for Modeling

| Raw Price Distribution | Transformed Price Distribution |
|:---:|:---:|
| ![](../visuals/price_distribution.png) | ![](../visuals/log_price_distribution.png) |
| *Observation: The raw price data is highly skewed, justifying the need for **Log Transformation** to normalize the target for linear models.* | *Result: The log-transformed price is much closer to a normal distribution.* |

## EDA: Market Trends & Segmentation
### Regional Performance and Trends

| Sales Trend Over Time | Top Models by Regional Sales Volume |
|:---:|:---:|
| ![](../visuals/avg_price_by_year.png) | ![](../visuals/top_model_per_region.png) |
| *Observation: The average price has a clear upward trend, validating the need for **Temporal Validation**.* | *Observation: Model popularity varies significantly by region (e.g., specific models dominate in Europe vs. Asia).* |

## EDA: Market Trends & Segmentation
### Regional Performance and Trends

| Sales Trend Over Time | Top Models by Regional Sales Volume |
|:---:|:---:|
| ![](../visuals/avg_price_by_year.png) | ![](../visuals/top_model_per_region.png) |
| *Observation: The average price has a clear upward trend, validating the need for **Temporal Validation**.* | *Observation: Model popularity varies significantly by region (e.g., specific models dominate in Europe vs. Asia).* |

## EDA: Correlation Analysis
### Price Relationships

| Correlation Matrix | Price Distribution by Fuel Type |
|:---:|:---:|
| ![](../visuals/correlation_matrix.png) | ![](../visuals/price_by_fueltype_box.png) |
| *Observation: The log-price is strongly correlated with **Engine Size** and **Car Age** (negative correlation).* | *Observation: Price distributions differ across fuel types, suggesting fuel choice is a price segmentation feature.* |

## Modeling Approach
### Temporal Validation Strategy

- **Goal:** Test model stability and real-world predictive ability.
- **Split:** - **Train Set:** All data from **2010–2023**.
    - **Test Set:** Data from **Year 2024** (The "future" market).
- **Model Chosen:** **Random Forest Regressor** (highest predictive power).
- **Evaluation:** MAE and RMSE are converted back to **USD** for business interpretability.

## Random Forest Performance
### Model Accuracy (Reporting in USD)

| Metric | Value | Interpretation |
|:---:|:---:|:---:|
| **R-squared (Log Price)** | **0.9952** | Variance explained by the model on the transformed price. |
| **Root Mean Squared Error (RMSE)** | **$2,292.13** | Average prediction error, penalizing large errors. |
| **Mean Absolute Error (MAE)** | **$531.13** | **Most Interpretable:** On average, the model's price prediction is off by this amount in USD. |

*Interpretation: The model successfully predicted 2024 prices with an average absolute error of approximately **$531.13**, proving its temporal stability.*

## Key Price Drivers
### Feature Importance Analysis

- **Model Insight**:  We use the Random Forest's Gini Importance to rank the features. The feature importance graph below illustrates these findings.

![](../visuals/rf_feature_importance.png)

#### Top 5 Predictors of BMW Price:
1. **Price per KM** (0.682) - *The single greatest indicator of price.*
2. **Mileage (KM)** (0.318) - *Indicates vehicle wear and depreciation.*
3. **Engine Size (L)** (0.000018)
4. **Car Age** (0.000015)
5. **Transmission: Manual** (0.000004)

## Conclusion and Recommendations
### Summary of Findings

- **Top Drivers:** Price is overwhelmingly driven by the **Price per KM** and **Mileage (KM)**, suggesting depreciation rates and total distance traveled are the primary variables used by the market.
- **Model Success:** The Random Forest model demonstrates **strong temporal validation**, accurately predicting 2024 market prices with a mean absolute error of **$531.13**.
- **Key Market Insight:** Model popularity and sales volume are highly specific to **Region**, suggesting localized strategies are essential.

### Business Recommendations

1. **Pricing Strategy:** Use the model's feature importance to set pricing guidelines. The low MAE ($531.13) provides high confidence for automated pricing models.
2. **Inventory Optimization:** Focus inventory based on the regional popularity derived from the EDA.
3. **Future Validation:** Re-run the temporal validation annually to ensure the model's stability.

## Thank You
### INFO-523 Final Project

- **Notebooks:** `01_Data_Preparation_and_EDA.ipynb`, `02-modeling.ipynb`
- **Output:** Trained model saved as `rf_best_model.joblib`.
- **Data:** Cleaned data saved as `bmw_cleaned.csv` and `bmw_modeling_ready.csv`.