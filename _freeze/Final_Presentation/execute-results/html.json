{
  "hash": "81bc2c5a5715108778c728a97f2a5b5b",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"BMW Car Sales Analysis & Price Prediction\"\nsubtitle: \"Temporal Validation of Market Value\"\nauthor: \"Min Set Khant (Solo)\"\ndate: \"2025-12-08\"\nformat: \n  revealjs:\n    theme: simple      \n    css: bmw-style.css  \n    slide-number: true\n    transition: fade\n    center: true\nexecute:\n  echo: false\n  freeze: auto\n  python: true\n---\n\n## Introduction\n### Project: BMW Car Sales — Data Analysis & Price Prediction\n\n- **Goal:** Build a robust, temporally validated model to predict BMW car prices using multi-regional sales data.\n- **Key Questions Addressed:**\n    1. What are the key features influencing BMW car prices?\n    2. Can a Machine Learning model accurately predict prices?\n    3. How stable are these predictions over time (Temporal Validation)?\n\n## Data Overview & Setup\n### Dataset: BMW Worldwide Sales (2010–2024)\n\n- **Source:** Kaggle (Multi-Regional Sales Data)\n- **Status:** Data has been cleaned, imputed, and One-Hot Encoded.\n- **Target Variable:** `Price_USD` (Log-transformed for modeling).\n\n::: {#cell-load-pkgs .cell message='false' execution_count=1}\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 50000 | Columns: 17\n```\n:::\n\n::: {#load-pkgs .cell-output .cell-output-display execution_count=1}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Model</th>\n      <th>Year</th>\n      <th>Region</th>\n      <th>Color</th>\n      <th>Fuel_Type</th>\n      <th>Transmission</th>\n      <th>Engine_Size_L</th>\n      <th>Mileage_KM</th>\n      <th>Price_USD</th>\n      <th>Sales_Volume</th>\n      <th>Sales_Classification</th>\n      <th>Car_Age</th>\n      <th>log_Price_USD</th>\n      <th>Price_per_KM</th>\n      <th>Engine_Bin</th>\n      <th>Age_Bin</th>\n      <th>Total_Sales_Model</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>5 Series</td>\n      <td>2016</td>\n      <td>Asia</td>\n      <td>Red</td>\n      <td>Petrol</td>\n      <td>Manual</td>\n      <td>3.5</td>\n      <td>151748</td>\n      <td>98740</td>\n      <td>8300</td>\n      <td>High</td>\n      <td>9</td>\n      <td>11.500256</td>\n      <td>0.650684</td>\n      <td>3.1-4.0</td>\n      <td>7-10</td>\n      <td>23097519</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>i8</td>\n      <td>2013</td>\n      <td>North America</td>\n      <td>Red</td>\n      <td>Hybrid</td>\n      <td>Automatic</td>\n      <td>1.6</td>\n      <td>121671</td>\n      <td>79219</td>\n      <td>3428</td>\n      <td>Low</td>\n      <td>12</td>\n      <td>11.279984</td>\n      <td>0.651092</td>\n      <td>&lt;=1.6</td>\n      <td>10+</td>\n      <td>23423891</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>5 Series</td>\n      <td>2022</td>\n      <td>North America</td>\n      <td>Blue</td>\n      <td>Petrol</td>\n      <td>Automatic</td>\n      <td>4.5</td>\n      <td>10991</td>\n      <td>113265</td>\n      <td>6994</td>\n      <td>Low</td>\n      <td>3</td>\n      <td>11.637494</td>\n      <td>10.305250</td>\n      <td>&gt;4.0</td>\n      <td>2-3</td>\n      <td>23097519</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>X3</td>\n      <td>2024</td>\n      <td>Middle East</td>\n      <td>Blue</td>\n      <td>Petrol</td>\n      <td>Automatic</td>\n      <td>1.7</td>\n      <td>27255</td>\n      <td>60971</td>\n      <td>4047</td>\n      <td>Low</td>\n      <td>1</td>\n      <td>11.018170</td>\n      <td>2.237057</td>\n      <td>1.7-2.0</td>\n      <td>0-1</td>\n      <td>22745529</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>7 Series</td>\n      <td>2020</td>\n      <td>South America</td>\n      <td>Black</td>\n      <td>Diesel</td>\n      <td>Manual</td>\n      <td>2.1</td>\n      <td>122131</td>\n      <td>49898</td>\n      <td>3080</td>\n      <td>Low</td>\n      <td>5</td>\n      <td>10.817756</td>\n      <td>0.408561</td>\n      <td>2.1-3.0</td>\n      <td>4-6</td>\n      <td>23786466</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n## EDA: Price Distribution\n### Transformation for Modeling\n\n| Raw Price Distribution | Transformed Price Distribution |\n|:---:|:---:|\n| ![](../visuals/price_distribution.png) | ![](../visuals/log_price_distribution.png) |\n| *Observation: The raw price data is highly skewed, justifying the need for **Log Transformation** to normalize the target for linear models.* | *Result: The log-transformed price is much closer to a normal distribution.* |\n\n## EDA: Market Trends & Segmentation\n### Regional Performance and Trends\n\n| Sales Trend Over Time | Top Models by Regional Sales Volume |\n|:---:|:---:|\n| ![](../visuals/avg_price_by_year.png) | ![](../visuals/top_model_per_region.png) |\n| *Observation: The average price has a clear upward trend, validating the need for **Temporal Validation**.* | *Observation: Model popularity varies significantly by region (e.g., specific models dominate in Europe vs. Asia).* |\n\n## EDA: Market Trends & Segmentation\n### Regional Performance and Trends\n\n| Sales Trend Over Time | Top Models by Regional Sales Volume |\n|:---:|:---:|\n| ![](../visuals/avg_price_by_year.png) | ![](../visuals/top_model_per_region.png) |\n| *Observation: The average price has a clear upward trend, validating the need for **Temporal Validation**.* | *Observation: Model popularity varies significantly by region (e.g., specific models dominate in Europe vs. Asia).* |\n\n## EDA: Correlation Analysis\n### Price Relationships\n\n| Correlation Matrix | Price Distribution by Fuel Type |\n|:---:|:---:|\n| ![](../visuals/correlation_matrix.png) | ![](../visuals/price_by_fueltype_box.png) |\n| *Observation: The log-price is strongly correlated with **Engine Size** and **Car Age** (negative correlation).* | *Observation: Price distributions differ across fuel types, suggesting fuel choice is a price segmentation feature.* |\n\n## Modeling Approach\n### Temporal Validation Strategy\n\n- **Goal:** Test model stability and real-world predictive ability.\n- **Split:** - **Train Set:** All data from **2010–2023**.\n    - **Test Set:** Data from **Year 2024** (The \"future\" market).\n- **Model Chosen:** **Random Forest Regressor** (highest predictive power).\n- **Evaluation:** MAE and RMSE are converted back to **USD** for business interpretability.\n\n## Random Forest Performance\n### Model Accuracy (Reporting in USD)\n\n| Metric | Value | Interpretation |\n|:---:|:---:|:---:|\n| **R-squared (Log Price)** | **0.9952** | Variance explained by the model on the transformed price. |\n| **Root Mean Squared Error (RMSE)** | **$2,292.13** | Average prediction error, penalizing large errors. |\n| **Mean Absolute Error (MAE)** | **$531.13** | **Most Interpretable:** On average, the model's price prediction is off by this amount in USD. |\n\n*Interpretation: The model successfully predicted 2024 prices with an average absolute error of approximately **$531.13**, proving its temporal stability.*\n\n## Key Price Drivers\n### Feature Importance Analysis\n\n- **Model Insight**:  We use the Random Forest's Gini Importance to rank the features. The feature importance graph below illustrates these findings.\n\n![](../visuals/rf_feature_importance.png)\n\n#### Top 5 Predictors of BMW Price:\n1. **Price per KM** (0.682) - *The single greatest indicator of price.*\n2. **Mileage (KM)** (0.318) - *Indicates vehicle wear and depreciation.*\n3. **Engine Size (L)** (0.000018)\n4. **Car Age** (0.000015)\n5. **Transmission: Manual** (0.000004)\n\n## Conclusion and Recommendations\n### Summary of Findings\n\n- **Top Drivers:** Price is overwhelmingly driven by the **Price per KM** and **Mileage (KM)**, suggesting depreciation rates and total distance traveled are the primary variables used by the market.\n- **Model Success:** The Random Forest model demonstrates **strong temporal validation**, accurately predicting 2024 market prices with a mean absolute error of **$531.13**.\n- **Key Market Insight:** Model popularity and sales volume are highly specific to **Region**, suggesting localized strategies are essential.\n\n### Business Recommendations\n\n1. **Pricing Strategy:** Use the model's feature importance to set pricing guidelines. The low MAE ($531.13) provides high confidence for automated pricing models.\n2. **Inventory Optimization:** Focus inventory based on the regional popularity derived from the EDA.\n3. **Future Validation:** Re-run the temporal validation annually to ensure the model's stability.\n\n## Thank You\n### INFO-523 Final Project\n\n- **Notebooks:** `01_Data_Preparation_and_EDA.ipynb`, `02-modeling.ipynb`\n- **Output:** Trained model saved as `rf_best_model.joblib`.\n- **Data:** Cleaned data saved as `bmw_cleaned.csv` and `bmw_modeling_ready.csv`.\n\n",
    "supporting": [
      "Final_Presentation_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js\" integrity=\"sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js\" integrity=\"sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}